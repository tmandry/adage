PROJECT(adage)

ADD_EXECUTABLE(adage main.cpp)
ADD_EXECUTABLE(preview preview.cpp)

SET(MODULES io widget util window)

SUBDIRS(${MODULES})
ADD_DEPENDENCIES(adage ${MODULES})
ADD_DEPENDENCIES(preview ${MODULES})

#Find and use SDL and SDL_ttf
INCLUDE(FindSDL)
INCLUDE(FindSDL_ttf)

IF (NOT SDL_FOUND OR NOT SDLTTF_FOUND)
       MESSAGE(FATAL_ERROR, "Could not find the required SDL libraries. Adage requires SDL and SDL_ttf libraries.")
ENDIF (NOT SDL_FOUND OR NOT SDLTTF_FOUND)

SET(ADAGELIBS ${MODULES} ${SDL_LIBRARY} ${SDLTTF_LIBRARY})

TARGET_LINK_LIBRARIES(adage ${ADAGELIBS})
TARGET_LINK_LIBRARIES(preview ${ADAGELIBS})

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR} ${SDL_INCLUDE_DIR} ${SDLTTF_INCLUDE_DIR})


#IF (LINUX)
#      SET_TARGET_PROPERTIES(adage preview PROPERTIES LINK_FLAGS_DEBUG "-g -O0" COMPILE_FLAGS_DEBUG "-g -O0")
#ENDIF (LINUX)

